# 用戶文件夾

Rime 從「用戶文件夾」讀取用家自訂的配置。

輸入法運行時保存的數據如 *用戶詞典*、安裝信息、選項狀態等也放在這裏。

## 位置

`librime` 允許輸入法指定用戶文件夾的位置。

用戶文件夾的位置應使用絕對路徑。[請勿使用相對路徑](https://github.com/rime/weasel/issues/563)。

- **小狼毫：** 用戶文件夾的默認路徑爲 `%APPDATA%\Rime`。也可以通過「開始菜單＼小狼毫輸入法＼用戶文件夾」打開。
- **鼠鬚管：** 用戶文件夾的路徑爲 `~/Library/Rime`。也可以通過「系統輸入法菜單／鼠鬚管／用戶設定…」打開。
- **ibus-rime:** `~/.config/ibus/rime`
- **fcitx-rime:** `~/.config/fcitx/rime`
- **fcitx5-rime:** `~/.local/share/fcitx5/rime/`

## 內容

用家下載或定製的文件：

- `<輸入方案代號>.schema.yaml` - 用戶下載或自定義的 *輸入方案*。
- `<韻書代號>.dict.yaml` - 用戶下載或自定義的 *韻書*。
- `<詞典名稱>.txt` - 文本格式的詞典，如預設詞彙表、用戶 *自定義詞組*。
- `<配置代號>.custom.yaml` - 應用於配置文件 `<配置代號>.schema.yaml` 或 `<配置代號>.yaml` 的 *補靪*。
- `opencc/*` - [OpenCC](https://github.com/BYVoid/OpenCC) 字形轉換配置及字典文件。

輸入法程序記錄的使用習慣等信息：

- `<輸入法語言代號>.userdb/` - 輸入法程序爲保存用戶的輸入習慣而創建的 *用戶詞典*。
- `installation.yaml` - 安裝信息。輸入法程序在首次運行及升級後寫入安裝、升級時間、程序版本等。
- `user.yaml` - 用戶狀態信息。包括在 *方案選單* 選取的輸入方案、輸入法選項狀態如「中／西」「簡／繁」等。

部署時生成的文件：

- `build/*` - 快取文件。爲使輸入法程序高效運行，在部署過程中將配置、韻書等編譯爲機讀格式。
- `trash/*` - 失效的文件。因 Rime 升級而不再使用的舊文件會自動移入這個文件夾。用家確認不再需要後可以刪除。

註：`librime` 1.3 版本之前，編譯後的快取文件（包括應用了補靪的 YAML 配置）直接存放在用戶文件夾；`librime` 升級後將其移入 `trash/`。如果某個 YAML 源文件已經找不到了，無法在升級後重新編譯，可以從 `trash/` 裏面找回一份副本。